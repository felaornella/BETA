<ion-header >
  <ion-toolbar color="beta">
    <ion-buttons slot="start">
      <ion-back-button color="light" defaultHref="home"></ion-back-button>
    </ion-buttons>

    <ion-title>
      <img src="assets/logo_con_nombre_derecha.png" class="logo-navbar">
    </ion-title>
  
  </ion-toolbar>
</ion-header>
<ion-content style="--padding-start: 0%!important; --padding-end: 0%!important;">

  <ion-row *ngIf='user' [ngClass]="{'background-user': !user.es_organizacion, 'background-association': user.es_organizacion}">
    <ion-col size="12">
      <ion-content style=" height: 13rem; overflow: hidden; --background: none;">
        <img *ngIf="user?.imagen || img_new" [src]="getUrlImg(user.imagen)" class="image-profile">
        <ion-icon *ngIf="!user?.imagen && !img_new" style="color: white" name="person-circle" class="image-profile"></ion-icon>   
      
       <!-- <img [src]="getUrlImgPerfil(user.imagen)" class="image-profile">
      Button relative to img, with icon of pencil, inside the photo on top right -->
      </ion-content>
    </ion-col>
    <ion-col size="12" class="col-center name-user">
      <ion-label color="light">{{user.nombre}} {{user.apellido}}</ion-label>
    </ion-col>
  </ion-row>
  <ion-row *ngIf='user' style="display: flex; justify-content: center; align-items: center; background-color: var(--ion-color-background); height: 3rem;">
    <ion-col >
      <div style="display: flex; flex-direction: column; align-items: center;">
        <p style="margin:0;font-family: DM-Sans; font-size: 1.1rem;"><b style="color: black;">Actualizar contrase単a </b></p>
        <div style="margin: .35rem 0 0 0; height: 3px; width: 80% ;"  [style]="!user.es_organizacion ? 'background-color: var(--ion-color-beta)': 'background-color: var(--ion-color-asociation)'"></div>
      </div>
    </ion-col>
  </ion-row>
  
  <form id="changepassword" (ngSubmit)='guardar()' class="edit-password-form">
    <ion-item lines="none" >
      <ion-label position="floating">Contrase単a actual</ion-label>
      <ion-input type="password" required name="actualPassword" [(ngModel)]="actualPassword"></ion-input>
    </ion-item>
    <ion-item lines="none" >
      <ion-label position="floating">Contrase単a nueva</ion-label>
      <ion-input type="password" required name="newPassword" [(ngModel)]="newPassword"></ion-input>
    </ion-item>
    <ion-item lines="none" >
      <ion-label position="floating">Repita la contrase単a nueva</ion-label>
      <ion-input type="password" required name="duplicatedNewPassword" [(ngModel)]="duplicatedNewPassword"></ion-input>
    </ion-item>
    <ion-row style="display: flex; justify-content: center; align-items: center;" *ngIf="mensaje_error">
      <ion-col style="display: flex; flex-direction: column; align-items: center; padding-left: 1rem; padding-right: 1rem;">
        <p style="opacity: .65; font-family: 'DM-SANS'; color:red; font-size: .9rem; margin-top: 0;">{{mensaje_error}}</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="ion-padding">
        <ion-button type="submit" form="changepassword" style="width: 100%; height: 3rem; --background: var(--ion-color-transito); --border-radius: 1rem">
          <span style="font-size: 1.2rem; font-family: DM-Sans; text-transform: none; font-weight: 600;"> Guardar </span>
        </ion-button>
      </ion-col>
    </ion-row>
  </form>
</ion-content>
